# Lesson 5 ‚Äî Terraform AWS Infrastructure

–¶–µ–π –ø—Ä–æ—î–∫—Ç —Å—Ç–≤–æ—Ä—é—î –±–∞–∑–æ–≤—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É AWS –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Terraform.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
lesson-5/
‚îú‚îÄ‚îÄ main.tf           # –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤—Å—ñ—Ö –º–æ–¥—É–ª—ñ–≤
‚îú‚îÄ‚îÄ backend.tf        # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–µ–∫–µ–Ω–¥—É Terraform (S3 + DynamoDB –∞–±–æ local)
‚îú‚îÄ‚îÄ outputs.tf        # –í–∏–≤–µ–¥–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –∑ –º–æ–¥—É–ª—ñ–≤
‚îú‚îÄ‚îÄ README.md         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É
‚îú‚îÄ‚îÄ modules/          # –ö–∞—Ç–∞–ª–æ–≥ –º–æ–¥—É–ª—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ s3-backend/   # –ú–æ–¥—É–ª—å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è S3-–±–∞–∫–µ—Ç–∞ —Ç–∞ DynamoDB –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É Terraform
‚îÇ   ‚îú‚îÄ‚îÄ vpc/          # –ú–æ–¥—É–ª—å –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ VPC, –ø—ñ–¥–º–µ—Ä–µ–∂, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó, IGW/NAT
‚îÇ   ‚îî‚îÄ‚îÄ ecr/          # –ú–æ–¥—É–ª—å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è ECR-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è
```

## üß± –ú–æ–¥—É–ª—ñ

### `s3-backend`
- –°—Ç–≤–æ—Ä—é—î S3 –±–∞–∫–µ—Ç –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è `terraform.tfstate`
- –£–≤—ñ–º–∫–Ω–µ–Ω–æ –≤–µ—Ä—Å—ñ—é–≤–∞–Ω–Ω—è
- –°—Ç–≤–æ—Ä—é—î DynamoDB —Ç–∞–±–ª–∏—Ü—é `terraform-locks` –¥–ª—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è

### `vpc`
- –°—Ç–≤–æ—Ä—é—î VPC –∑ CIDR `10.0.0.0/16`
- –¢—Ä–∏ –ø—É–±–ª—ñ—á–Ω—ñ –π —Ç—Ä–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø—ñ–¥–º–µ—Ä–µ–∂—ñ
- Internet Gateway –¥–ª—è –ø—É–±–ª—ñ—á–Ω–∏—Ö
- NAT Gateway –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Route Tables

### `ecr`
- –°—Ç–≤–æ—Ä—é—î ECR —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
- –£–≤—ñ–º–∫–Ω–µ–Ω–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –æ–±—Ä–∞–∑—ñ–≤ –Ω–∞ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ

---

## ‚öôÔ∏è –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É

> ‚ö†Ô∏è –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –¥–æ–¥–∞–Ω—ñ AWS –∫—Ä–µ–¥–µ–Ω—à—ñ–∞–ª–∏

# 1. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Terraform
terraform init

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—ñ –∫–æ–¥—É
terraform validate

# 3. –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ –∑–º—ñ–Ω
terraform plan

# 4. –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
terraform apply

# 5. –ó–Ω–∏—â–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
terraform destroy
